@model CogsMinimizer.Shared.Subscription
@{
    ViewBag.Title = "Register";
    CogsMinimizer.Shared.Subscription Model = new CogsMinimizer.Shared.Subscription();
}

@section Scripts
{
    <!-- all dependency scripts will be loaded here -->
    @Scripts.Render("~/bundles/jquery")
    <script>
    // In addition to calling controller action buttons click will cause setting cursor to wait while being over body and buttons
    $(document).ready(function () {
        $('.wait-crs').on('click', function () { $('body').css('cursor', 'wait'); $('.btn').css('cursor', 'wait'); })
    });

    </script>
}

@using (@Html.BeginForm("ConnectNoArm", "Subscription",
    new
    {
        Id = @Model.Id,
        OrganizationId = @Model.OrganizationId
    }, 
    FormMethod.Post))
{
    <h1>@ViewBag.Title</h1>

    <!-- make 2 text boxes for some subscription data value and user ID. otherwise neither subscription data nor user ID  aren't given to submitting controller method -->
    <table class="table table-striped table-condensed table-hover">
        <tr>
            <td>
                <h4>Subscription name</h4>
            </td>
            <td>
                @Html.TextBoxFor(m => m.DisplayName, new { style = "width:300px;" })
            </td>
        </tr>
        <tr>
            <td>
                <h4>Subscription ID</h4>
            </td>
            <td>
                @Html.TextBoxFor(m => m.Id, new { style = "width:300px;" })
            </td>
        </tr>
    </table>
    <table>
        <tr>
            <td>
                <H3>
                    Important - Please assign Reader role to Subminimizer on the subscription.
                    <br />
                    Contact support for more details.
                </H3>
            </td>
        </tr>
        <tr>
            <td>
                <button class="btn btn-success btn-md wait-crs" type="submit">Register</button>
                <small>&nbsp;&nbsp;</small>
            </td>
        </tr>
    </table>
}
